{"version":3,"sources":["index.js"],"names":["addItem","event","preventDefault","text","document","getElementById","db","collection","add","value","status","getItems","onSnapshot","snapshot","console","log","items","docs","forEach","doc","push","id","data","generateItems","itemsHTML","item","querySelector","innerHTML","createEvenListeners","querySelectorAll","checkMark","addEventListener","markCompleted","dataset","get","then","exists","update"],"mappings":";AAgFQ,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,KAAA,GAAA,GAAA,OAAA,sBAAA,CAAA,IAAA,EAAA,OAAA,sBAAA,GAAA,IAAA,EAAA,EAAA,OAAA,SAAA,GAAA,OAAA,OAAA,yBAAA,EAAA,GAAA,cAAA,EAAA,KAAA,MAAA,EAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,UAAA,OAAA,IAAA,CAAA,IAAA,EAAA,MAAA,UAAA,GAAA,UAAA,GAAA,GAAA,EAAA,EAAA,EAAA,OAAA,IAAA,GAAA,QAAA,SAAA,GAAA,EAAA,EAAA,EAAA,EAAA,MAAA,OAAA,0BAAA,OAAA,iBAAA,EAAA,OAAA,0BAAA,IAAA,EAAA,OAAA,IAAA,QAAA,SAAA,GAAA,OAAA,eAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,MAAA,OAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EA7ER,SAASA,IACPC,MAAMC,iBACFC,IAAAA,EAAOC,SAASC,eAAe,cACnCC,GAAGC,WAAW,cAAcC,IAAI,CAC9BL,KAAMA,EAAKM,MACXC,OAAQ,WAEVP,EAAKM,MAAQ,GAGf,SAASE,IACPL,GAAGC,WAAW,cAAcK,WAAW,SAACC,GACtCC,QAAQC,IAAIF,GACRG,IAAAA,EAAQ,GACZH,EAASI,KAAKC,QAAQ,SAACC,GACrBH,EAAMI,KAAN,EAAA,CACEC,GAAIF,EAAIE,IACLF,EAAIG,WAGXC,EAAcP,KAIlB,SAASO,EAAcP,GACjBQ,IAAAA,EAAY,GAChBR,EAAME,QAAQ,SAACO,GACbD,GAG+BC,iHAAAA,OAAAA,EAAKJ,GAClCI,wBAAAA,OAAe,aAAfA,EAAKf,OAAwB,UAAY,GAMzBe,mKAAAA,OAAe,aAAfA,EAAKf,OAAwB,UAAY,GAEtCe,+BAAAA,OAAAA,EAAKtB,KAZ1B,4DAkBFC,SAASsB,cAAc,eAAeC,UAAYH,EAClDI,IAGF,SAASA,IACcxB,SAASyB,iBAAiB,0BAChCX,QAAQ,SAACY,GACtBA,EAAUC,iBAAiB,QAAS,WAClCC,EAAcF,EAAUG,QAAQZ,QAKtC,SAASW,EAAcX,GAEjBI,IAAAA,EAAOnB,GAAGC,WAAW,cAAcY,IAAIE,GAC3CI,EAAKS,MAAMC,KAAK,SAAUhB,GACpBA,GAAAA,EAAIiB,OAAQ,CACV1B,IAAAA,EAASS,EAAIG,OAAOZ,OACV,UAAVA,EACFe,EAAKY,OAAO,CACV3B,OAAQ,cAES,aAAVA,GACTe,EAAKY,OAAO,CACV3B,OAAQ,cAOlBC","file":"Todo.69c706db.js","sourceRoot":"..","sourcesContent":["// Updates\r\n// make the <span> Clear Completed btn work\r\n\r\nfunction addItem() {\r\n  event.preventDefault();\r\n  let text = document.getElementById(\"todo-input\");\r\n  db.collection(\"todo-items\").add({\r\n    text: text.value,\r\n    status: \"active\",\r\n  });\r\n  text.value = \"\";\r\n}\r\n\r\nfunction getItems() {\r\n  db.collection(\"todo-items\").onSnapshot((snapshot) => {\r\n    console.log(snapshot);\r\n    let items = [];\r\n    snapshot.docs.forEach((doc) => {\r\n      items.push({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      });\r\n    });\r\n    generateItems(items);\r\n  });\r\n}\r\n\r\nfunction generateItems(items) {\r\n  let itemsHTML = \"\";\r\n  items.forEach((item) => {\r\n    itemsHTML += ` \r\n            <div class=\"todo-item\">\r\n                <div class=\"check\">\r\n                   <div data-id=\"${item.id}\" class=\"check-mark ${\r\n      item.status == \"completed\" ? \"checked\" : \"\"\r\n    }\">\r\n                      <img src=\"./assets/icon-check.svg\" />\r\n                    </div>\r\n                </div>\r\n                    <div class=\"todo-text ${\r\n                      item.status == \"completed\" ? \"checked\" : \"\"\r\n                    }\">\r\n                       ${item.text}\r\n                    </div>\r\n            </div>\r\n    `;\r\n  });\r\n\r\n  document.querySelector(\".todo-items\").innerHTML = itemsHTML;\r\n  createEvenListeners();\r\n}\r\n\r\nfunction createEvenListeners() {\r\n  let todoCheckMarks = document.querySelectorAll(\".todo-item .check-mark\");\r\n  todoCheckMarks.forEach((checkMark) => {\r\n    checkMark.addEventListener(\"click\", function () {\r\n      markCompleted(checkMark.dataset.id);\r\n    });\r\n  });\r\n}\r\n\r\nfunction markCompleted(id) {\r\n  // from a database\r\n  let item = db.collection(\"todo-items\").doc(id);\r\n  item.get().then(function (doc) {\r\n    if (doc.exists) {\r\n      let status = doc.data().status;\r\n      if (status == \"active\") {\r\n        item.update({\r\n          status: \"completed\",\r\n        });\r\n      } else if (status == \"completed\") {\r\n        item.update({\r\n          status: \"active\",\r\n        });\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\ngetItems();\r\n"]}